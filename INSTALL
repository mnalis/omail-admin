-----
Omail  -  A PHP4 based qmail+vmailmgrd Web interface  -  (c) 2000  Olivier Mueller <om@omnis.ch>
-----

$Id: INSTALL,v 1.9 2000/09/24 16:06:13 swix Exp $
$Source: /cvsroot/omail/admin2/INSTALL,v $


oMail - INSTALL
===============


* You will need:
  --------------

- qmail 1.03 (Dan Bernstein) 
  http://www.qmail.org

- vmailmgrd 0.96.8 or higher (Bruce Guenter)    (didn't tried with any other versions)
  http://www.em.ca/~bruceg/vmailmgr/
  
- uscpi-unix 0.33 or higher (Bruce Guenter)  (needed to make the daemon works)
  http://em.ca/~bruceg/ucspi-unix/

- qmail-autoresponder 0.93 or higher (Bruce Guenter)   
  http://www.em.ca/~bruceg/qmail-autoresponder/

- php 4.0.x
  http://www.php.net

- apache 1.3.x
  http://www.apache.org/httpd.html



* Installation  (draft : if you feel there is anything missing, please contact me!)
  ------------

  1. install qmail, autorespond and vmailmgr

  2. make sure vmailmgrd (the vmailmgr daemon) is running. Don't forget it needs uscpi-unix to work.
     ( for example:  /usr/local/bin/unixserver -v -- /tmp/.vmailmgrd /usr/local/sbin/vmailmgrd -V  )

  3. check config.php  (optional)

  4. if "index.php" is not defined as DirectoryIndex, replace the	
     $script_url = "$SCRIPT_URL"; line in config.php by 
     $script_url = "$SCRIPT_URL/index.php"; 

  5. make sure you have installed the autoresponder correctely (look at the
     vautoresponder file in the qmail-autoresponder distribution...)

  6. make sure you have "magic_quotes_gpc = Off" in your php.ini  (usually in /usr/local/lib/)
     (just important if there are "'` in the autoresponder message)

  7. if necessary, setup domain-based quotas (look next section in INSTALL file)

  8. Well, then it should work correctely. If it's the case, you can jump to step 99.  

  ...

  99. Have a look at http://cdnow.com/gift/om@omnis.ch  :)



* Quotas
  ------
  check the vmailmgrquota file, and copy it in /var/qmail/control or /etc/vmailmgr
  more doc to come later about that.

  You can use the quota's configuation file to disallow the use of autoresponders :
  just activate the "default" configuration, and set "0" in the last field...



* FAQ
  ---

 [1] Error Message: Protocol version is 0, not the 2 as this script expects.

     This seems to be a common deamon problem, and appears only with rpm installations.
     Here the answer from Ambar Roy:

	this seems to be the same 255,"" problem that everyone is getting when they
	use rpms to install the vmailmgr daemon.... and the solution is quite   
	simple... in the /etc/rc.d/init.d/vmailmgrd file change the line that reads:
	svc start vmailmgrd
	to something like:
	nohup /var/service/vmailmgrd/run &
	and things run fine.... now the only problem is that the stop function stops
	working!!!



--Olivier, 16.sep.2k

